# EventEmitter

## 观察者模式

观察者模式类似于我们在微信平台订阅了公众号，当它有新的文章发表后，就会推送给我们所有订阅的人。  
我们作为订阅者不必每次都去查看这个公众号有没有新文章发布，公众号作为发布者会在合适的时间通知我们。  
我们与公众号之间不再强耦合在一起。公众号不关心谁订阅了它，不管你是男是女还是宠物狗，它只需要定时向所有订阅者发布消息即可。

### 观察者模式的优点

* 可以广泛应用于异步编程，它可以替代我们传统的回调函数
* 我们不需要关注对象在异步执行阶段的内部状态，我们只关心时间完成的时间点
* 取代对象之间硬编码通知机制，一个对象不必显式调用另一个对象的接口，而是松耦合的联系在一起

虽然不知道彼此的细节，但不影响相互通信。更重要的是，其中一个对象改变不会影响另一个对象。

## JavaScript 自定义事件

DOM也提供了类似EventEmitter的API，基本使用：

```js
// 1. 创建事件
var myEvent = new Event('myEvent')
// 2. 注册事件监听器
elem.addEventListener('myEvent', function(e) {

})
// 3. 触发事件
elem.dispatchEvent(myEvent)
```
